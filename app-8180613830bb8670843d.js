(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"3re2":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"MAIN",(function(){return f})),n.d(r,"USERS",(function(){return p})),n.d(r,"POSTS",(function(){return d}));var o={};n.r(o),n.d(o,"API_BASE_URL",(function(){return y}));var a=n("mXGw"),c=n.n(a),i=n("xARA"),u=n("oNR1"),l=(n("6OPI"),n("TZaN")),s=(n("xvge"),n("dZF8")),f="/",p="/users",d="/posts",y="https://gorest.co.in/public-api/",m=(n("5flk"),n("v5c9")),b=n("ve3R"),h=Object(b.a)();h.listen((function(){return window.scrollTo(0,0)}));var g;!function(e){e.MAIN="MAIN",e.USERS="USERS"}(g||(g={}));var v=function(e){var t="";return e===r.MAIN&&(t=g.MAIN),e===r.USERS&&(t=g.USERS),t};function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,o,a=w(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={selected:""},t.setStateByLocation=t.setStateByLocation.bind(R(t)),t.handleMenuClick=t.handleMenuClick.bind(R(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.setStateByLocation()}},{key:"setStateByLocation",value:function(){var e,t,n=(e=h.location.pathname,(t=e.match(/^[\/](\w+)?/))?t[0]:e);this.setState({selected:v(n)})}},{key:"handleMenuClick",value:function(e){var t=e.key,n=h.push;this.setState({selected:g[t]},(function(){return n(r[t]||"")}))}},{key:"render",value:function(){var e=this.state.selected;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{style:{padding:"0 100px"},defaultSelectedKeys:[""],theme:"dark",mode:"horizontal",onClick:this.handleMenuClick,selectedKeys:[e]},c.a.createElement(m.a.Item,{key:g.MAIN},"Main"),c.a.createElement(m.a.Item,{key:g.USERS},"Users")))}}])&&E(t.prototype,n),o&&E(t,o),i}(a.Component),k=(n("pJMU"),n("J+xt")),_=(n("83ui"),n("TYxb")),C=n("bb6g"),I=n("leJv"),x=n("D5b7"),A=(n("JVMX"),n("qsLp")),T=n("cneo"),L=n("czhI"),M=n.n(L).a.create({timeout:1e4,baseURL:o.API_BASE_URL});M.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat("dEs6UaZ4O7vjCcypwn3hRO-P4PzfKV7RI4-O"),e}));var N=M,D=function(e){return e?N.get("users?".concat(function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")}(e))):N.get("users")};function B(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.users=[],this.isLoading=!1,this.page=1,this.selectedUserId="",this.paginationResponse={currentPage:1,perPage:20,pageCount:0,totalCount:0}}var t,n,r;return t=e,(n=[{key:"loadUsers",value:function(e){var t=this;this.isLoading=!0,D({page:e||this.page}).then((function(e){if(t.selectUser(""),e.data.result&&e.data.result.length){t.users=e.data.result;var n=e.data._meta;n&&(t.paginationResponse={currentPage:n.currentPage||t.page,perPage:n.perPage||20,pageCount:n.pageCount||0,totalCount:n.totalCount||0})}else A.a.warn({message:"System error",description:"Data is unavailable. Please try again later"})})).catch((function(e){A.a.error({message:e})})).finally((function(){t.isLoading=!1}))}},{key:"loadUser",value:function(e){var t=this;this.isLoading=!0,function(e){return N.get("users/".concat(e))}(e).then((function(e){e.data.result?t.users=[].concat(B(t.users),[e.data.result]):A.a.warn({message:"System error",description:"Data is unavailable. Please try again later"})})).catch((function(e){A.a.error({message:e})})).finally((function(){t.isLoading=!1}))}},{key:"setPage",value:function(e){this.page=e}},{key:"selectUser",value:function(e){this.selectedUserId=e}},{key:"selectedUser",get:function(){var e=this;return this.users.find((function(t){return t.id===e.selectedUserId}))||null}}])&&F(t.prototype,n),r&&F(t,r),e}();Object(C.a)([T.n],K.prototype,"users",void 0),Object(C.a)([T.n],K.prototype,"isLoading",void 0),Object(C.a)([T.n],K.prototype,"page",void 0),Object(C.a)([T.n],K.prototype,"selectedUserId",void 0),Object(C.a)([T.n],K.prototype,"paginationResponse",void 0),Object(C.a)([T.f],K.prototype,"loadUsers",null),Object(C.a)([T.f],K.prototype,"loadUser",null),Object(C.a)([T.f],K.prototype,"setPage",null),Object(C.a)([T.f],K.prototype,"selectUser",null),Object(C.a)([T.g],K.prototype,"selectedUser",null);var J=new K,q=function(e){return N.get("posts?".concat(function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")}(e)))};function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.posts=[],this.isLoading=!1,this.selectedPost="",this.paginationResponse={currentPage:1,perPage:20,pageCount:0,totalCount:0}}var t,n,r;return t=e,(n=[{key:"loadUserPosts",value:function(e,t){var n=this;e&&(this.isLoading=!0,q({page:t||1,user_id:e}).then((function(e){if(n.selectPost(""),e.data.result&&e.data.result.length){n.posts=e.data.result;var t=e.data._meta;t&&(n.paginationResponse={currentPage:t.currentPage||1,perPage:t.perPage||20,pageCount:t.pageCount||0,totalCount:t.totalCount||0})}else A.a.warn({message:"System error",description:"Data is unavailable. Please try again later"})})).catch((function(e){A.a.error({message:e})})).finally((function(){n.isLoading=!1})))}},{key:"selectPost",value:function(e){this.selectedPost=e}}])&&H(t.prototype,n),r&&H(t,r),e}();Object(C.a)([T.n],Z.prototype,"posts",void 0),Object(C.a)([T.n],Z.prototype,"isLoading",void 0),Object(C.a)([T.n],Z.prototype,"selectedPost",void 0),Object(C.a)([T.n],Z.prototype,"paginationResponse",void 0),Object(C.a)([T.f],Z.prototype,"loadUserPosts",null),Object(C.a)([T.f],Z.prototype,"selectPost",null);var V=new Z,X=(n("4BqW"),n("H4M2")),G=function(){var e=l.a.Title,t=Object(u.g)().push,n=J.selectedUserId;return c.a.createElement("div",{className:"main"},c.a.createElement("span",null,c.a.createElement(e,{level:2},"Users list:")),c.a.createElement(X.a,{disabled:!n,size:"large",type:"link",onClick:function(){return t("".concat(r.USERS,"/").concat(n))}},"Show comments"))};function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?te(e):t}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(a,e);var t,n,r,o=Q(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).selectRow=function(e){J.selectedUserId===e.id?J.selectUser(""):J.selectUser(e.id)},t.onSelectedRowChange=function(e){J.selectUser(String(e[0]))},t.onSelectedRowChange=t.onSelectedRowChange.bind(te(t)),t.selectRow=t.selectRow.bind(te(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){J.loadUsers()}},{key:"render",value:function(){var e=this,t=J.isLoading,n=J.users,r=J.paginationResponse,o=J.selectedUserId,a=[{title:"Фото",dataIndex:"_links",key:"_links",render:function(e){var t,n=null===(t=null==e?void 0:e.avatar)||void 0===t?void 0:t.href;return n?c.a.createElement(c.a.Fragment,null,c.a.createElement(_.a,{src:n,icon:c.a.createElement(x.a,null)})):c.a.createElement(c.a.Fragment,null,c.a.createElement(_.a,{icon:c.a.createElement(x.a,null)}))}},{title:"Имя",dataIndex:"first_name",key:"first_name"},{title:"Фамилия",dataIndex:"last_name",key:"last_name"},{title:"Пол",dataIndex:"gender",key:"gender"},{title:"Почта",dataIndex:"email",key:"email"},{title:"Телефон",dataIndex:"phone",key:"phone"},{title:"Статус",dataIndex:"status",key:"status"}],i={total:r.totalCount,current:r.currentPage,pageSize:r.perPage,onChange:function(e){return J.loadUsers(e)},hideOnSinglePage:!0,showSizeChanger:!1};return c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{showHeader:!0,title:function(){return c.a.createElement(G,null)},rowSelection:{onChange:this.onSelectedRowChange,type:"radio",selectedRowKeys:[o]},loading:t,dataSource:n,columns:a,rowKey:"id",onRow:function(t){return{onClick:function(){return e.selectRow(t)}}},pagination:i}))}}])&&Y(t.prototype,n),r&&Y(t,r),a}(a.Component),oe=re=Object(C.a)([I.a],re),ae=function(e){var t=e.children;return c.a.createElement("div",{className:"paper"},t)},ce=(n("e6mU"),n("kAeg")),ie=function(e){var t=e.data,n=t.title,r=t.body,o=l.a.Text;return c.a.createElement(ce.a,{className:"post-card",title:n,bordered:!0},c.a.createElement(o,null,r))};function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(a,e);var t,n,r,o=pe(a);function a(){return le(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props.match.params;e.id&&(V.loadUserPosts(e.id),!J.selectedUser&&J.loadUser(e.id))}},{key:"render",value:function(){var e=V.posts,t=J.selectedUser,n=l.a.Title,r=l.a.Text;return c.a.createElement(ae,null,c.a.createElement(n,{level:2},"Posts "),t&&c.a.createElement(r,null," made by ","".concat(t.first_name," ").concat(t.last_name)),e&&c.a.createElement(c.a.Fragment,null,e.map((function(e){return c.a.createElement(ie,{key:e.id,data:e})}))))}}])&&se(t.prototype,n),r&&se(t,r),a}(a.PureComponent),be=me=Object(C.a)([I.a],me),he=n("USb2"),ge=function(){var e=l.a.Title,t=l.a.Paragraph;return c.a.createElement(ae,null,c.a.createElement(e,{level:2},"Главная страница"),c.a.createElement(t,{strong:!0},"Добро пожаловать на главную страницу. Вы можете посмотреть список пользователей на странице"," ",c.a.createElement(he.a,{to:r.USERS},'"Users"'),"."))},ve=s.a.Header,Se=s.a.Footer,Ee=s.a.Content,Oe=function(){var e=l.a.Title;return c.a.createElement(s.a,{className:"layout"},c.a.createElement(ve,{className:"header"},c.a.createElement(U,null)),c.a.createElement(Ee,{style:{padding:"0 100px"}},c.a.createElement(u.d,null,c.a.createElement(u.b,{exact:!0,path:r.MAIN,component:ge}),c.a.createElement(u.b,{exact:!0,path:r.USERS,component:oe}),c.a.createElement(u.b,{exact:!0,path:"".concat(r.USERS,"/:id"),render:function(e){var t=e.match;return c.a.createElement(u.a,{to:"".concat(r.USERS,"/").concat(t.params.id).concat(r.POSTS)})}}),c.a.createElement(u.b,{exact:!0,path:"".concat(r.USERS,"/:id").concat(r.POSTS),component:be}),c.a.createElement(u.b,{render:function(){return c.a.createElement(e,{level:2},"Page not found")}}))),c.a.createElement(Se,{className:"footer"},"Тестовое задание выполнил Дмитрий Щукин"))},we=(n("KmqH"),document.getElementById("app"));i.render(a.createElement(u.c,{history:h},a.createElement(Oe,null)),we)},KmqH:function(e,t,n){}},[["3re2",1,2]]]);