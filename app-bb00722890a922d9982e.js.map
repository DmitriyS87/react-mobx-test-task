{"version":3,"sources":["webpack:///../src/constants/routes.ts","webpack:///../src/constants/api.ts","webpack:///../src/core/history/history.ts","webpack:///../src/utils/getMainPathName.ts","webpack:///../src/components/Header/MainMenu/MainMenu.constants.ts","webpack:///../src/components/Header/MainMenu/MainMenu.utils.ts","webpack:///../src/components/Header/MainMenu/MainMenu.tsx","webpack:///../src/core/api.ts","webpack:///../src/stores/users/api-users.ts","webpack:///../src/stores/users/users.ts","webpack:///../src/stores/users/users.constants.ts","webpack:///../src/stores/posts/api-posts.ts","webpack:///../src/stores/posts/posts.ts","webpack:///../src/stores/posts/posts.constants.ts","webpack:///../src/components/Users/TableHeader/TableHeader.tsx","webpack:///../src/components/Users/Users.tsx","webpack:///../src/common/shared/Paper/Paper.tsx","webpack:///../src/components/Posts/Post/Post.tsx","webpack:///../src/components/Posts/Posts.tsx","webpack:///../src/components/MainPage/MainPage.tsx","webpack:///../src/components/App/App.tsx","webpack:///../src/index.tsx"],"names":["MAIN","USERS","POSTS","API_BASE_URL","basename","listen","window","scrollTo","MainMenuItem","mainPathName","selectedMenuItem","props","state","selected","setStateByLocation","bind","handleMenuClick","this","pathname","location","console","log","history","path","paths","match","nextSelectedMenuItem","setState","key","push","style","padding","defaultSelectedKeys","theme","mode","onClick","selectedKeys","Item","api","a","create","timeout","baseURL","interceptors","request","use","config","headers","Authorization","params","get","Object","keys","map","name","join","makeParamsString","storedUsers","isLoading","viewedPage","selectedUserId","paginationResponse","currentPage","perPage","pageCount","totalCount","nextPage","page","includes","String","then","response","selectUser","data","result","length","meta","_meta","notification","warn","message","description","err","error","id","users","find","user","posts","selectedPost","userId","user_id","selectPost","Title","className","level","disabled","size","type","selectRow","onSelectedRowChange","selectedRowKeys","loadUsers","columns","title","dataIndex","render","avatarUrl","avatar","href","src","icon","UserOutlined","paginationConfig","total","current","pageSize","onChange","nexPage","hideOnSinglePage","showSizeChanger","showHeader","rowSelection","loading","dataSource","rowKey","onRow","record","pagination","children","body","Text","bordered","loadUserPosts","selectedUser","loadUser","marginBottom","first_name","last_name","post","Paragraph","strong","to","Header","Footer","Content","exact","component","entryPoint","document","getElementById"],"mappings":"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","file":"app-bb00722890a922d9982e.js","sourcesContent":["export const MAIN = '/';\nexport const USERS = '/users';\nexport const POSTS = '/posts';\n","export const API_BASE_URL = 'https://gorest.co.in/public-api/';\n","import { createBrowserHistory } from 'history';\n\nconst basename = process.env.NODE_ENV === 'production' ? process.env.SERVER_BASE_URL : '';\n\nexport const history = createBrowserHistory({ basename });\n\nhistory.listen(() => window.scrollTo(0, 0));\n","const MAIN_PATH_INDEX = process.env.NODE_ENV === 'production' ? 1 : 0;\n\nexport const getMainPathName = (path: string) => {\n  // eslint-disable-next-line no-useless-escape\n  const paths = path.match(/^[\\/](\\w+)?/);\n  console.log({ paths });\n  return paths ? paths[0] : path;\n};\n","export enum MainMenuItem {\n  MAIN = 'MAIN',\n  USERS = 'USERS'\n}\n","import { AppRoute } from '@constants';\nimport { MainMenuItem } from './MainMenu.constants';\n\nexport const getSelectedMenuItem = (mainPathName: string) => {\n  let selectedMenuItem = '';\n\n  if (mainPathName === AppRoute.MAIN) {\n    selectedMenuItem = MainMenuItem.MAIN;\n  }\n\n  if (mainPathName === AppRoute.USERS) {\n    selectedMenuItem = MainMenuItem.USERS;\n  }\n\n  return selectedMenuItem;\n};\n","import React, { Component } from 'react';\nimport { Menu } from 'antd';\nimport { history } from '@core/history/history';\nimport { AppRoute } from '@constants';\nimport { ClickParam } from 'antd/lib/menu';\nimport { getMainPathName } from '@utils/getMainPathName';\nimport { MainMenuItem } from './MainMenu.constants';\nimport { MainMenuState } from './MainMenu.interface';\nimport { getSelectedMenuItem } from './MainMenu.utils';\n\nclass MainMenu extends Component<{}, MainMenuState> {\n  constructor(props: {}) {\n    super(props);\n\n    this.state = {\n      selected: ''\n    };\n\n    this.setStateByLocation = this.setStateByLocation.bind(this);\n    this.handleMenuClick = this.handleMenuClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.setStateByLocation();\n  }\n\n  componentDidUpdate() {\n    const { selected } = this.state;\n    const { pathname } = history.location;\n    console.log({ history });\n\n    const menuItemName = getSelectedMenuItem(pathname);\n    selected !== menuItemName && this.setStateByLocation();\n  }\n\n  setStateByLocation() {\n    const { pathname } = history.location;\n    const { selected } = this.state;\n\n    console.log('setStateByLocation');\n\n    const mainPathName = getMainPathName(pathname);\n    const nextSelectedMenuItem = getSelectedMenuItem(mainPathName);\n    selected !== nextSelectedMenuItem &&\n      this.setState({\n        selected: nextSelectedMenuItem\n      });\n  }\n\n  handleMenuClick({ key }: ClickParam) {\n    const { push } = history;\n\n    this.setState(\n      {\n        selected: MainMenuItem[key as MainMenuItem]\n      },\n      () => push(AppRoute[key as MainMenuItem] || '')\n    );\n  }\n\n  render() {\n    const { selected } = this.state;\n\n    return (\n      <>\n        <Menu\n          style={{ padding: '0 100px' }}\n          defaultSelectedKeys={['']}\n          theme=\"dark\"\n          mode=\"horizontal\"\n          onClick={this.handleMenuClick}\n          selectedKeys={[selected]}\n        >\n          <Menu.Item key={MainMenuItem.MAIN}>Main</Menu.Item>\n          <Menu.Item key={MainMenuItem.USERS}>Users</Menu.Item>\n        </Menu>\n      </>\n    );\n  }\n}\n\nexport default MainMenu;\n","/* eslint-disable no-param-reassign */\nimport axios from 'axios';\nimport { ApiConstant } from '@constants';\n\nconst api = axios.create({\n  timeout: 10000,\n  baseURL: ApiConstant.API_BASE_URL\n});\n\napi.interceptors.request.use(config => {\n  if (process.env.API_ACCESS_TOKEN) {\n    config.headers.Authorization = `Bearer ${process.env.API_ACCESS_TOKEN}`;\n  }\n\n  return config;\n});\n\nexport default api;\n","import { Params } from '@types';\nimport api from '../../core/api';\n\nconst makeParamsString = (params: Params) =>\n  Object.keys(params)\n    .map(name => `${name}=${params[name]}`)\n    .join('&');\n\nexport const getUsers = (params?: Params) => (params ? api.get(`users?${makeParamsString(params)}`) : api.get('users'));\n\nexport const getUser = (id: string | number) => api.get(`users/${id}`);\n","/* eslint-disable no-underscore-dangle */\nimport { observable, action, computed } from 'mobx';\nimport { notification } from 'antd';\nimport { getUsers, getUser } from './api-users';\nimport { ApiUser, StoredUsers } from './users.interface';\nimport { DEFAULT_USER_PER_PAGE, DEFAULT_USER_PAGE } from './users.constants';\n\nclass UsersStore {\n  @observable storedUsers: StoredUsers = {};\n\n  @observable isLoading = false;\n\n  @observable viewedPage = 1;\n\n  @observable selectedUserId = '';\n\n  @observable paginationResponse = {\n    currentPage: DEFAULT_USER_PAGE,\n    perPage: DEFAULT_USER_PER_PAGE,\n    pageCount: 0,\n    totalCount: 0\n  };\n\n  @action\n  loadUsers(nextPage?: number) {\n    this.isLoading = true;\n    const page = nextPage || this.viewedPage;\n\n    if (Object.keys(this.storedUsers).includes(String(page))) {\n      this.paginationResponse = { ...this.paginationResponse, currentPage: page };\n      this.viewedPage = page;\n      this.isLoading = false;\n      return;\n    }\n\n    getUsers({\n      page\n    })\n      .then(response => {\n        this.selectUser('');\n\n        if (response.data.result && response.data.result.length) {\n          const meta = response.data._meta;\n          if (meta) {\n            this.paginationResponse = {\n              currentPage: meta.currentPage || DEFAULT_USER_PAGE,\n              perPage: meta.perPage || DEFAULT_USER_PER_PAGE,\n              pageCount: meta.pageCount || 0,\n              totalCount: meta.totalCount || 0\n            };\n          }\n          this.storedUsers = { ...this.storedUsers, [page]: response.data.result };\n          this.viewedPage = meta.currentPage;\n          return;\n        }\n\n        notification.warn({\n          message: 'System error',\n          description: 'Data is unavailable. Please try again later'\n        });\n      })\n      .catch(err => {\n        notification.error({ message: err });\n      })\n      .finally(() => {\n        this.isLoading = false;\n      });\n  }\n\n  @action\n  loadUser(id: string) {\n    this.isLoading = true;\n    getUser(id)\n      .then(response => {\n        if (response.data.result) {\n          const { result } = response.data;\n          this.storedUsers = { ...this.storedUsers, [result.id]: result };\n          return;\n        }\n\n        notification.warn({\n          message: 'System error',\n          description: 'Data is unavailable. Please try again later'\n        });\n      })\n      .catch(err => {\n        notification.error({ message: err });\n      })\n      .finally(() => {\n        this.isLoading = false;\n      });\n  }\n\n  @action\n  setPage(page: number) {\n    this.viewedPage = page;\n  }\n\n  @action\n  selectUser(id: string) {\n    this.selectedUserId = id;\n  }\n\n  @computed get selectedUser() {\n    const storedUser = this.users.find(user => user.id === this.selectedUserId);\n    return storedUser || null;\n  }\n\n  @computed get users(): ApiUser[] {\n    return this.storedUsers[this.viewedPage] || [];\n  }\n}\n\nconst store = new UsersStore();\nexport default store;\n","export const DEFAULT_USER_PAGE = 1;\nexport const DEFAULT_USER_PER_PAGE = 20;\n","import { Params } from '@types';\nimport api from '../../core/api';\n\nconst makeParamsString = (params: Params) =>\n  Object.keys(params)\n    .map(name => `${name}=${params[name]}`)\n    .join('&');\n\nexport const getUserPosts = (params: Params) => api.get(`posts?${makeParamsString(params)}`);\n","/* eslint-disable no-underscore-dangle */\nimport { observable, action } from 'mobx';\nimport { notification } from 'antd';\nimport { getUserPosts } from './api-posts';\nimport { PostResult } from './posts.interface';\nimport { DEFAULT_POSTS_PAGE, DEFAULT_POSTS_PER_PAGE } from './posts.constants';\n\nclass PostsStore {\n  @observable posts: PostResult[] = [];\n\n  @observable isLoading = false;\n\n  @observable selectedPost = '';\n\n  @observable paginationResponse = {\n    currentPage: DEFAULT_POSTS_PAGE,\n    perPage: DEFAULT_POSTS_PER_PAGE,\n    pageCount: 0,\n    totalCount: 0\n  };\n\n  @action\n  loadUserPosts(userId: string, nextPage?: number) {\n    if (userId) {\n      this.isLoading = true;\n      getUserPosts({\n        page: nextPage || 1,\n        user_id: userId\n      })\n        .then(response => {\n          this.selectPost('');\n\n          if (response.data.result && response.data._meta) {\n            this.posts = response.data.result;\n            const meta = response.data._meta;\n            meta &&\n              (this.paginationResponse = {\n                currentPage: meta.currentPage || 1,\n                perPage: meta.perPage || DEFAULT_POSTS_PER_PAGE,\n                pageCount: meta.pageCount || 0,\n                totalCount: meta.totalCount || 0\n              });\n            return;\n          }\n\n          notification.warn({\n            message: 'System error',\n            description: 'Data is unavailable. Please try again later'\n          });\n        })\n        .catch(err => {\n          notification.error({ message: err });\n        })\n        .finally(() => {\n          this.isLoading = false;\n        });\n    }\n  }\n\n  @action\n  selectPost(id: string) {\n    this.selectedPost = id;\n  }\n}\n\nconst store = new PostsStore();\nexport default store;\n","export const DEFAULT_POSTS_PAGE = 1;\nexport const DEFAULT_POSTS_PER_PAGE = 20;\n","import React, { FunctionComponent } from 'react';\nimport { Button, Typography } from 'antd';\nimport { useHistory } from 'react-router';\nimport { AppRoute } from '@constants';\nimport { usersStore } from '@stores';\n\nconst TableHeader: FunctionComponent = () => {\n  const { Title } = Typography;\n  const { push } = useHistory();\n  const userId = usersStore.selectedUserId;\n\n  return (\n    <div className=\"main\">\n      <span>\n        <Title level={2}>Users list:</Title>\n      </span>\n      <Button disabled={!userId} size=\"large\" type=\"link\" onClick={() => push(`${AppRoute.USERS}/${userId}`)}>\n        Show comments\n      </Button>\n    </div>\n  );\n};\n\nexport default TableHeader;\n","import React, { Component } from 'react';\nimport { observer } from 'mobx-react';\nimport { Avatar, Table } from 'antd';\nimport { UserOutlined } from '@ant-design/icons';\nimport { UserLink, ApiUser } from '@stores/users/users.interface';\nimport { usersStore } from '@stores';\nimport { UsersState, UserPagintaionConfig } from './Users.interface';\nimport TableHeader from './TableHeader/TableHeader';\n\n@observer\nclass Users extends Component<{}, UsersState> {\n  constructor(props: {}) {\n    super(props);\n\n    this.onSelectedRowChange = this.onSelectedRowChange.bind(this);\n    this.selectRow = this.selectRow.bind(this);\n  }\n\n  componentDidMount() {\n    usersStore.loadUsers();\n  }\n\n  selectRow = (data: ApiUser) => {\n    const { selectedUserId } = usersStore;\n    if (selectedUserId === data.id) {\n      usersStore.selectUser('');\n    } else {\n      usersStore.selectUser(data.id);\n    }\n  };\n\n  onSelectedRowChange = (selectedRowKeys: React.ReactText[]) => {\n    usersStore.selectUser(String(selectedRowKeys[0]));\n  };\n\n  render() {\n    const { isLoading, users, paginationResponse, selectedUserId } = usersStore;\n\n    const columns = [\n      {\n        title: 'Фото',\n        dataIndex: '_links',\n        key: '_links',\n        render: (data: UserLink) => {\n          const avatarUrl = data?.avatar?.href;\n          if (avatarUrl) {\n            return (\n              <>\n                <Avatar src={avatarUrl} icon={<UserOutlined />} />\n              </>\n            );\n          }\n          return (\n            <>\n              <Avatar icon={<UserOutlined />} />\n            </>\n          );\n        }\n      },\n      {\n        title: 'Имя',\n        dataIndex: 'first_name',\n        key: 'first_name'\n      },\n      {\n        title: 'Фамилия',\n        dataIndex: 'last_name',\n        key: 'last_name'\n      },\n      {\n        title: 'Пол',\n        dataIndex: 'gender',\n        key: 'gender'\n      },\n      {\n        title: 'Почта',\n        dataIndex: 'email',\n        key: 'email'\n      },\n      {\n        title: 'Телефон',\n        dataIndex: 'phone',\n        key: 'phone'\n      },\n      {\n        title: 'Статус',\n        dataIndex: 'status',\n        key: 'status'\n      }\n    ];\n\n    const paginationConfig: UserPagintaionConfig = {\n      total: paginationResponse.totalCount,\n      current: paginationResponse.currentPage,\n      pageSize: paginationResponse.perPage,\n      onChange: (nexPage: number) => usersStore.loadUsers(nexPage),\n      hideOnSinglePage: true,\n      showSizeChanger: false\n    };\n\n    return (\n      <>\n        <Table\n          showHeader\n          title={() => <TableHeader />}\n          rowSelection={{ onChange: this.onSelectedRowChange, type: 'radio', selectedRowKeys: [selectedUserId] }}\n          loading={isLoading}\n          dataSource={users}\n          columns={columns}\n          rowKey=\"id\"\n          onRow={record => ({\n            onClick: () => this.selectRow(record)\n          })}\n          pagination={paginationConfig}\n        />\n      </>\n    );\n  }\n}\n\nexport default Users;\n","import React, { FunctionComponent } from 'react';\n\nconst Paper: FunctionComponent = ({ children }) => {\n  return <div className=\"paper\">{children}</div>;\n};\n\nexport default Paper;\n","import React, { FunctionComponent } from 'react';\nimport { Card, Typography } from 'antd';\nimport { PostProps } from './Post.interface';\n\nconst Post: FunctionComponent<PostProps> = ({ data }) => {\n  const { title, body } = data;\n  const { Text } = Typography;\n\n  return (\n    <Card className=\"post-card\" title={title} bordered>\n      <Text>{body}</Text>\n    </Card>\n  );\n};\n\nexport default Post;\n","import React, { PureComponent } from 'react';\nimport { postsStore, usersStore } from '@stores';\nimport { observer } from 'mobx-react';\nimport { Typography } from 'antd';\nimport { Paper } from '@shared';\nimport Post from './Post/Post';\nimport { PostsProps } from './Posts.interface';\n\n@observer\nclass Posts extends PureComponent<PostsProps, {}> {\n  componentDidMount() {\n    const { match } = this.props;\n    const { params } = match;\n\n    if (params.id) {\n      postsStore.loadUserPosts(params.id);\n\n      !usersStore.selectedUser && usersStore.loadUser(params.id);\n    }\n  }\n\n  render() {\n    const { posts } = postsStore;\n    const { selectedUser } = usersStore;\n\n    const { Title, Text } = Typography;\n\n    return (\n      <Paper>\n        <Title level={2}>Posts </Title>\n        {selectedUser && (\n          <Text style={{ marginBottom: '20px' }}>\n            {' '}\n            made by {`${selectedUser.first_name} ${selectedUser.last_name}`}\n          </Text>\n        )}\n\n        {posts && (\n          <>\n            {posts.map(post => (\n              <Post key={post.id} data={post} />\n            ))}\n          </>\n        )}\n        {!posts.length && <Text>The user has no publications.</Text>}\n      </Paper>\n    );\n  }\n}\n\nexport default Posts;\n","import React, { FunctionComponent } from 'react';\nimport { Typography } from 'antd';\nimport { Paper } from '@shared';\nimport { Link } from 'react-router-dom';\nimport { AppRoute } from '@constants';\n\nconst MainPage: FunctionComponent = () => {\n  const { Title, Paragraph } = Typography;\n\n  return (\n    <Paper>\n      <Title level={2}>Главная страница</Title>\n      <Paragraph strong>\n        Добро пожаловать на главную страницу. Вы можете посмотреть список пользователей на странице{' '}\n        <Link to={AppRoute.USERS}>&quot;Users&quot;</Link>.\n      </Paragraph>\n    </Paper>\n  );\n};\n\nexport default MainPage;\n","/* eslint-disable @typescript-eslint/explicit-function-return-type */\nimport React, { FunctionComponent } from 'react';\nimport { Route, Switch, Redirect } from 'react-router';\nimport { AppRoute } from '@constants';\n\nimport { Layout, Typography } from 'antd';\nimport MainMenu from '../Header/MainMenu/MainMenu';\nimport Users from '../Users/Users';\nimport Posts from '../Posts/Posts';\nimport MainPage from '../MainPage/MainPage';\n\nconst { Header, Footer, Content } = Layout;\n\nconst App: FunctionComponent = () => {\n  const { Title } = Typography;\n\n  return (\n    <Layout className=\"layout\">\n      <Header className=\"header\">\n        <MainMenu />\n      </Header>\n      <Content style={{ padding: '0 100px' }}>\n        <Switch>\n          <Route exact path={AppRoute.MAIN} component={MainPage} />\n          <Route exact path={AppRoute.USERS} component={Users} />\n          <Route\n            exact\n            path={`${AppRoute.USERS}/:id`}\n            render={({ match }) => <Redirect to={`${AppRoute.USERS}/${match.params.id}${AppRoute.POSTS}`} />}\n          />\n          <Route exact path={`${AppRoute.USERS}/:id${AppRoute.POSTS}`} component={Posts} />\n\n          <Route render={() => <Title level={2}>Page not found</Title>} />\n        </Switch>\n      </Content>\n      <Footer className=\"footer\">Тестовое задание выполнил Дмитрий Щукин</Footer>\n    </Layout>\n  );\n};\n\nexport default App;\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Router } from 'react-router';\nimport App from './components/App/App';\nimport './common/assets/styles.less';\nimport { history } from './core/history/history';\n\nconst entryPoint = document.getElementById(`app`);\n\nReactDOM.render(\n  <Router history={history}>\n    <App />\n  </Router>,\n  entryPoint\n);\n"],"sourceRoot":""}